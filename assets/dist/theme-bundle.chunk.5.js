(window.webpackJsonpWebpackChiara=window.webpackJsonpWebpackChiara||[]).push([[5],{177:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"default",(function(){return d}));i(64),i(7);var n=i(27),r=i(388),o=i(4),a=i(44),c=i(389),s=i(281),u=i(390);var d=function(t){var i,n;function d(i){var n;return(n=t.call(this,i)||this).url=window.location.href,n.$reviewLink=e('[data-reveal-id="modal-review-form"]'),n}n=t,(i=d).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var f=d.prototype;return f.onReady=function(){var t,i=this;e(document).on("close.fndtn.reveal",(function(){-1!==i.url.indexOf("#write_review")&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,document.title,window.location.pathname)})),Object(o.b)(),this.productDetails=new a.a(e(".productView"),this.context,window.BCData.product_attributes),this.productDetails.setProductVariant(),Object(c.a)();var n=Object(s.b)(".writeReview-form"),d=new r.a(n);e("body").on("click",'[data-reveal-id="modal-review-form"]',(function(){t=d.registerValidation(i.context)})),e(document).ready((function(){if(e(".description-video")){var t=e("#videoDescription .description-video");if(t&&t.children())t.find("iframe").map((function(t,i){var n=i.src.match(/embed\/.*/)[0].substring(6);return 0===t&&e("#videoDescription .videoGallery-main iframe").attr("src","//www.youtube.com/embed/"+n),'<li class="videoGallery-item"><a href="#" class="video '+(0===t?"is-active":"")+'" data-video-item data-video-id="'+n+'">'+i.outerHTML+"</a></li>"})).map((function(t,i){e("#videoDescription .videoGallery-list").append(i)})),e("#videoDescription .description-video").remove(),e("#videoDescription .videoGallery-list .videoGallery-item .video").each((function(){e(this).on("click",(function(t){t.preventDefault();var i=e(this).data("video-id");e(".videoGallery-main iframe").attr("src","//www.youtube.com/embed/"+i)}))}))}})),e(".hidden_desc")[0].scrollHeight>250&&(e(".read_more_btn").show(),e(".less_btn").show(),e(".hidden_desc").css({"max-height":"120px"})),e(".read_more_btn").on("click",(function(){e(".hidden_desc").css({"max-height":"100%"}),e(".read_more_btn").hide()})),e(".less_btn").on("click",(function(){e(".hidden_desc").css({"max-height":"120px"}),e(".read_more_btn").show()})),e(document).width()<801&&e(".form--addToCart > .productView-options-panel-body").position().top+300>window.scrollY+window.screen.height&&e(".mobile-fixed-bottom-container").addClass("is-shown"),e(document).scroll((function(){e(document).width()<801&&e(".form--addToCart > .productView-options-panel-body").position().top+300>window.scrollY+window.screen.height?e(".mobile-fixed-bottom-container").addClass("is-shown"):e(".mobile-fixed-bottom-container").removeClass("is-shown")})),n.on("submit",(function(){return!!t&&(t.performCheck(),t.areAll("valid"))})),this.productReviewHandler(),Object(u.a)(this.context)},f.productReviewHandler=function(){-1!==this.url.indexOf("#write_review")&&this.$reviewLink.trigger("click")},d}(n.a)}.call(this,i(0))},281:function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return p})),i.d(t,"c",(function(){return v}));i(28),i(29),i(17),i(66),i(67),i(64),i(7);var n=i(282),r=i.n(n),o=i(286),a=i.n(o),c=i(283),s=i.n(c),u=i(46),d=i(94),f=["input","select","textarea"];function l(t,i){void 0===i&&(i={});var n=e(t),o=n.find(f.join(", ")),c=i.formFieldClass,u=void 0===c?"form-field":c;return o.each((function(t,i){!function(t,i){var n,o=e(t),c=o.parent("."+i),u=o.prop("tagName").toLowerCase(),d=i+"--"+u;if("input"===u){var f=o.prop("type");s()(["radio","checkbox","submit"],f)?d=i+"--"+a()(f):n=""+d+r()(f)}c.addClass(d).addClass(n)}(i,u)})),n}function v(t){var i={type:"hidden",name:"FormFieldIsText"+function(e){var t=e.prop("name").match(/(\[.*\])/);return t&&0!==t.length?t[0]:""}(t),value:"1"};t.after(e("<input />",i))}var p={setEmailValidation:function(e,t){t&&e.add({selector:t,validate:function(e,t){e(d.a.email(t))},errorMessage:"You must enter a valid email."})},setPasswordValidation:function(t,i,n,r,o){var a=e(i),c=[{selector:i,validate:function(e,t){var i=t.length;if(o)return e(!0);e(i)},errorMessage:"You must enter a password."},{selector:i,validate:function(e,t){var i=t.match(new RegExp(r.alpha))&&t.match(new RegExp(r.numeric))&&t.length>=r.minlength;if(o&&0===t.length)return e(!0);e(i)},errorMessage:r.error},{selector:n,validate:function(e,t){var i=t.length;if(o)return e(!0);e(i)},errorMessage:"You must enter a password."},{selector:n,validate:function(e,t){e(t===a.val())},errorMessage:"Your passwords do not match."}];t.add(c)},setMinMaxPriceValidation:function(e,t){var i=t.errorSelector,n=t.fieldsetSelector,r=t.formSelector,o=t.maxPriceSelector,a=t.minPriceSelector;e.configure({form:r,preventSubmit:!0,successClass:"_"}),e.add({errorMessage:"Min price must be less than max. price.",selector:a,validate:"min-max:"+a+":"+o}),e.add({errorMessage:"Min price must be less than max. price.",selector:o,validate:"min-max:"+a+":"+o}),e.add({errorMessage:"Max. price is required.",selector:o,validate:"presence"}),e.add({errorMessage:"Min. price is required.",selector:a,validate:"presence"}),e.add({errorMessage:"Input must be greater than 0.",selector:[a,o],validate:"min-number:0"}),e.setMessageOptions({selector:[a,o],parent:n,errorSpan:i})},setStateCountryValidation:function(e,t){t&&e.add({selector:t,validate:"presence",errorMessage:"The 'State/Province' field cannot be blank."})},cleanUpStateValidation:function(t){var i=e('[data-type="'+t.data("fieldType")+'"]');Object.keys(u.a.classes).forEach((function(e){i.hasClass(u.a.classes[e])&&i.removeClass(u.a.classes[e])}))}}}).call(this,i(0))},282:function(e,t,i){var n=i(160),r=i(290);e.exports=function(e){return r(n(e).toLowerCase())}},283:function(e,t,i){var n=i(288);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},285:function(e,t){var i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return i.test(e)}},286:function(e,t,i){var n=i(282),r=i(297)((function(e,t,i){return t=t.toLowerCase(),e+(i?n(t):t)}));e.exports=r},288:function(e,t){e.exports=function(e,t,i){for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}},290:function(e,t,i){var n=i(291)("toUpperCase");e.exports=n},291:function(e,t,i){var n=i(292),r=i(285),o=i(294),a=i(160);e.exports=function(e){return function(t){t=a(t);var i=r(t)?o(t):void 0,c=i?i[0]:t.charAt(0),s=i?n(i,1).join(""):t.slice(1);return c[e]()+s}}},292:function(e,t,i){var n=i(293);e.exports=function(e,t,i){var r=e.length;return i=void 0===i?r:i,!t&&i>=r?e:n(e,t,i)}},293:function(e,t){e.exports=function(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(r);++n<r;)o[n]=e[n+t];return o}},294:function(e,t,i){var n=i(295),r=i(285),o=i(296);e.exports=function(e){return r(e)?o(e):n(e)}},295:function(e,t){e.exports=function(e){return e.split("")}},296:function(e,t){var i="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?"+s+("(?:\\u200d(?:"+[o,a,c].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*"),d="(?:"+[o+n+"?",n,a,c,i].join("|")+")",f=RegExp(r+"(?="+r+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},297:function(e,t,i){var n=i(298),r=i(299),o=i(300),a=RegExp("['’]","g");e.exports=function(e){return function(t){return n(o(r(t).replace(a,"")),e,"")}}},298:function(e,t){e.exports=function(e,t,i,n){var r=-1,o=null==e?0:e.length;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}},299:function(e,t){e.exports=function(e){return e}},300:function(e,t,i){var n=i(301),r=i(302),o=i(160),a=i(303);e.exports=function(e,t,i){return e=o(e),void 0===(t=i?void 0:t)?r(e)?a(e):n(e):e.match(t)||[]}},301:function(e,t){var i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(i)||[]}},302:function(e,t){var i=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return i.test(e)}},303:function(e,t){var i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+i+"]",r="\\d+",o="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",c="[^\\ud800-\\udfff"+i+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d="[A-Z\\xc0-\\xd6\\xd8-\\xde]",f="(?:"+a+"|"+c+")",l="(?:"+d+"|"+c+")",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p="[\\ufe0e\\ufe0f]?"+v+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,u].join("|")+")[\\ufe0e\\ufe0f]?"+v+")*"),h="(?:"+[o,s,u].join("|")+")"+p,m=RegExp([d+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[n,d,"$"].join("|")+")",l+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[n,d+f,"$"].join("|")+")",d+"?"+f+"+(?:['’](?:d|ll|m|re|s|t|ve))?",d+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,h].join("|"),"g");e.exports=function(e){return e.match(m)||[]}},388:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return d}));i(7);var n=i(46),r=i(4),o=i(94),a=i(62),c=i.n(a),s=i(16),u=Object(s.a)("medium"),d=function(){function t(t){this.validator=Object(n.a)({submit:t.find('input[type="submit"]')}),this.$reviewsContent=e("#product-reviews"),this.$collapsible=e("[data-collapsible]",this.$reviewsContent),this.initLinkBind(),this.initLinkBindChiara(),this.injectPaginationLink(),this.collapseReviews()}var i=t.prototype;return i.initLinkBind=function(){var t=this,i=e("#productReviews-content",this.$reviewsContent);e(".productView-reviewLink").on("click",(function(){i.hasClass("is-open")||t.$collapsible.trigger(r.a.click)}))},i.initLinkBindChiara=function(){e(".productView-reviewLink").on("click",(function(t){if(u&&u.matches){var i=e(".productView-tab--reviews");i.length>0&&(t.preventDefault(),i.hasClass("is-active")||i.find("a").trigger("click"),c()(i.get(0),{offset:-100,duration:100}))}}))},i.collapseReviews=function(){window.location.hash&&0===window.location.hash.indexOf("#product-reviews")||this.$collapsible.trigger(r.a.click)},i.injectPaginationLink=function(){var t=e(".pagination-item--next .pagination-link",this.$reviewsContent),i=e(".pagination-item--previous .pagination-link",this.$reviewsContent);t.length&&t.attr("href",t.attr("href")+"#product-reviews"),i.length&&i.attr("href",i.attr("href")+"#product-reviews")},i.registerValidation=function(e){return this.context=e,this.validator.add([{selector:'[name="revrating"]',validate:"presence",errorMessage:this.context.reviewRating},{selector:'[name="revtitle"]',validate:"presence",errorMessage:this.context.reviewSubject},{selector:'[name="revtext"]',validate:"presence",errorMessage:this.context.reviewComment},{selector:'[name="email"]',validate:function(e,t){e(o.a.email(t))},errorMessage:this.context.reviewEmail}]),this.validator},i.validate=function(){return this.validator.performCheck()},t}()}).call(this,i(0))},389:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return r}));i(7);var n=function(){function t(e){this.$player=e.find("[data-video-player]"),this.$videos=e.find("[data-video-item]"),this.currentVideo={},this.bindEvents()}var i=t.prototype;return i.selectNewVideo=function(t){t.preventDefault();var i=e(t.currentTarget);this.currentVideo={id:i.data("videoId"),$selectedThumb:i},this.setMainVideo(),this.setActiveThumb()},i.setMainVideo=function(){this.$player.attr("src","//www.youtube.com/embed/"+this.currentVideo.id)},i.setActiveThumb=function(){this.$videos.removeClass("is-active"),this.currentVideo.$selectedThumb.addClass("is-active")},i.bindEvents=function(){this.$videos.on("click",this.selectNewVideo.bind(this))},t}();function r(t){e("[data-video-gallery]").each((function(i,r){var o=e(r),a=o.data("video-gallery")instanceof n;!t&&a||o.data("video-gallery",new n(o))}))}}).call(this,i(0))},390:function(e,t,i){"use strict";(function(e){var n,r=i(1);function o(t){r.a.getPage(t,{template:"chiara/products/ajax-reviews",config:{product:{reviews:{limit:n.productpage_reviews_count}}}},(function(t,i){if(t)return t;e("[data-product-reviews]").html(i)}))}t.a=function(t){n=t.themeSettings,e("body").on("click","[data-product-reviews] .pagination-link",(function(t){t.preventDefault(),t.stopPropagation();var i=e(t.target);window.history&&window.history.pushState&&window.history.pushState(null,document.title,i.attr("href")),o(i.attr("href"))})),e(window).on("popstate",(function(){o(window.location.href)}))}}).call(this,i(0))}}]);
//# sourceMappingURL=theme-bundle.chunk.5.js.map
